<!DOCTYPE html>
<html>
<head>
  <title>Stefan Huynh</title>
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <%= stylesheet_link_tag    'application', media: 'all', 'data-turbolinks-track' => true %>
  <%= javascript_include_tag 'application', 'data-turbolinks-track' => true %>
  <%= csrf_meta_tags %>
  <%= favicon_link_tag 'favicon.ico' %>
</head>
<body>
  
  <main class='site-main'>
    <%= render partial: 'layouts/logged_in_header' if signed_in? %>
    <%= render partial: 'layouts/header' %>
    <%= render partial: 'layouts/errors' if flash[:errors] %>
    <%= yield %>
    <%= render partial: 'layouts/footer' %>
  </main>
  
  <script>
    $(document).ready(function() {
      $('.intro-section-content').fadeTo(1000, 1);
      
      $('#email-icon').on('click', function(event) {
        event.preventDefault();
        $('.email-modal').removeClass('display-off').fadeTo(200, 1);
      });
  
      $('.close-modal').on('click', function(event) {
        $('.email-modal').fadeTo(200, 0, function() {
          $('.email-modal').addClass('display-off')
        });
      });
      
      // Code snippt from CSS tricks
      $(function() {
        $('a[href*=#]:not([href=#])').click(function() {
          if (location.pathname.replace(/^\//,'') == 
            this.pathname.replace(/^\//,'') && 
            location.hostname == this.hostname) {
              
            var target = $(this.hash);
            target = target.length ? target : $('[name=' + this.hash.slice(1) +']');
            if (target.length) {
              $('html,body').animate({
                scrollTop: target.offset().top
              }, 500);
              return false;
            }
          }
        });
      });
    });
  </script>
  
  <script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
    (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
    m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

    ga('create', 'UA-54709608-1', 'auto');
    ga('send', 'pageview');
  </script>
</body>
</html>
